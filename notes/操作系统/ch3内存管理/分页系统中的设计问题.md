# 分页系统中的设计问题

## 局部分配策略与全局分配策略

与页面置换有关的是，发送缺页故障时，置换本进程的页面还是其他进程的页面，即怎样在相互竞争的可运行程序之间分配内存。

- [ ] 补图

图b算法为局部（local）页面置换算法，图c为全局（global）页面置换算法，局部算法可以有效地为每个进程分配固定的内存片段，全局算法在可运行的进程之间动态地分配页框。因此分配给各个进程的页框数是随时间变化的。

全局算法在可运行进程之间动态地分配页框，因此分配给各个进程的页框数是随时间变化的，全局算法在通常情况下工作地不局部算法好。若使用局部算法，及时有大量的空闲页框存在，工作集的增长也会导致颠簸（ thrashing ），如果工作集变小，局部算法又会浪费内存。

可以使用为进程分配页框的算法，其中一种方法是定期确定进程运行的数目并为他们分配等额的份额。可以按照进程的大小比例来分配相应数目的页面，对每个进程规定一个最小的页框数，这样无论多么小的进程都能运行。

如果使用全局算法，根据进程的大小按比例分配页面也是可能的，**但是该分配必须在程序运行时动态更新，这里的方法用到了（Page Fault Frequency PFF）缺页中断率算法。它指出了何时增加或减少分配给一个进程的页面，但却完全没有说明在发送缺页中断时应该替换掉哪一个页面，它仅仅控制分配集的大小。**

缺页中断率会随着分配的页面增加而降低，这是PFF背后的假定。

值得注意的是，一些页面置换算法既适用于局部置换算法，有适用于全局置换算法，如FIFO，LRU。另一方面，对于其他的页面置换算法，只有采取局部策略才有意义，如工作集和WSClock算法，是针对某些特定进程的而且必须应用在这些进程的上下文中。
