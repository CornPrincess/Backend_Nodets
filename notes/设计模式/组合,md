# 组合模式

组合模式：运行你将对象组合成树形结构来表现“整体/部分”层次结构。组合能让客户以一致的方式处理个别对象以及对象组合。



组合模式让我们能用树形方式创建对象的结构，**树里面包含了组合以及个别的对象**，**使用组合结构，我们能把相同的操作应用在组合和个别对象上。换句话说，在大多数情况下，我们可以忽略对象组合和个别对象之间的差别。**



组合模式以单一责任设计原则换取透明性（transparency），即通过让组件的接口同时包含一些管理子节点和叶子节点的操作，客户就可以将组合和叶子点一视同仁。这是一个很典型的折中案例，尽管我们收到设计原则的指导，但是，我们总是需要观察某原则对我们的设计所造成的影响。有时候，我们会故意做一些看似违反原则的事情。



当有数个对象的集合，他们彼此之间有“整体/部分”的关系，并且你想用一致的方式对待这些对象时，就需要用到组合模式。

为了要保持透明性，组合内所有的对象都必须实现相同的接口，否则客户就必须操心哪个对象是用哪个接口，这就失去了组合模式的意义。很明显，这意味着有些对象具备一些没有意义的方法调用。



组合模式可以让客户生活地更简单，客户不再操心面对的是组合对象还是叶子节点对象，所以不需要写一大堆 判断语句，通常只需要对整个结构调用一个方法并执行操作就可以了。



开发过程中可以用 NullIterator 这种空对象来进行设计
